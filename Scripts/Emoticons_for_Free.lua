--<<IMPORTANT! Download NEW textures https://mega.co.nz/#!XUd2iT7I!XUv66XCG4_XnquajjkZhgpqkfRIfta-AmpEGkzxx6Pk and unpack to NyanUI/ folder>>
--[[
				╔═══╦╗  ╔╦══╦════╦══╦══╦══╦╗ ╔╦══╗
				║╔══╣║  ║║╔╗╠═╗╔═╩╗╔╣╔═╣╔╗║╚═╝║╔═╝
				║╚══╣╚╗╔╝║║║║ ║║  ║║║║ ║║║║╔╗ ║╚═╗		  ╔══╦══╦═══╗
				║╔══╣╔╗╔╗║║║║ ║║  ║║║║ ║║║║║╚╗╠═╗║		  ║╔═╣╔╗║╔═╗║
				║╚══╣║╚╝║║╚╝║ ║║ ╔╝╚╣╚═╣╚╝║║ ║╠═╝║		  ║╚═╣║║║╚═╝║
				╚═══╩╝  ╚╩══╝ ╚╝ ╚══╩══╩══╩╝ ╚╩══╝		  ║╔═╣║║║╔╗╔╝
                                             :▄▄▄▄τ		  ║║ ║╚╝║║║║
           ╓▄████████▓╖                  ╓▄█▓██████▓█▓╖	  ╚╝ ╚══╩╝╚╝
         ]▓███▓▓▓▓▓█████████████████████████▓▓▓▓▓▓▓▓███▓▒	
         ║██▓╢╢▓▓▓╢╢▒▓████████████████████▓╢▒╢╢▓▓▓▓╣▓▓███▓@			╔══╦═══╦═══╦═══╗
       ]▓██▓▓▓█████▓▓╫▓███▓▓▓▓▓▓▓▓▓▓▓▓▓▓██▓╢╫▓█████▓▓╫▓███╬			║╔═╣╔═╗║╔══╣╔══╝
       ]███▓╣▓█████▓╣╫▓▓██▓▓▓▓▓▓▓▓▓▓╢╢▓▓██▓╢╢▓█████▓▓╫▓███╬			║╚═╣╚═╝║╚══╣╚══╗
       ]███▓╣▒▒▒▒▒▒▒╢▓▓██▓▓╢╢╢╢╢╢╢╢╢╢╢▓▓██▓╣╣▒▒▒▒▒▒▒▒▓████▒			║╔═╣╔╗╔╣╔══╣╔══╝
       ]████▓▓▓╣╣╣╢▓▓▓██▓▓╣╢╢╣╣╢╢╣╣╢╢╢╢▓███▓▓▓╣▒▒╢╢▓▓▓██▒			║║ ║║║║║╚══╣╚══╗
       ╙▀██████▓▓▓▓███▓▓╢╢╢╣▒▒░:▒▒░`░▒╢▓▓▓████▓▓▓▓▓█████╬			╚╝ ╚╝╚╝╚═══╩═══╝
       ,@▓█████████▓▓▓╢╢╢╢╢╣╣▒░▒╢╣▒╖╖▒╢╢╢▓▓▓▓▓▓▓▓▓██████▓▄µ     
       ]████▓▓▓╢▓▓╢╢╢╢╢╢▓▓▓▓▓▓╣╢▓▓▓╢╢╢╢╢╢╢╢╢╢╢╢▓▓▓▓▓▓▓▓▓███▄τ   
     ;▄████▓▓╣╢╢╢╢╢▓▓▓█████████████████████▓▓╢╢╢╢╢▓▓▓▓▒▒▓███╬   
     ]████▓▓▓▓╢▓▓▓██████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██████▓▓▓▓▓▓▓▓╢▓▓██╬   
     ]█████▓▓▓▓█████▓▓▓▒▒▒▒╢╢╢╢╢╢╢╢╢╣╣▒▒╢▒▓▓▓▓████▓▓▓▓▓▓████@   
      `▐██████████▓▓╢▒▒▒▒╢╢╢╢╢╢╢╢╢╢╢╢╣╣╢▒▒▒▒╬▓████████████▀`    
        `║██████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█████████████████▌`      		 ________ 
        ╓▄████████████████████████████████████▓▓▓▓▓▓████▓╖      		||Enter	||
      ╖▄████▓▓▓▓▓▓██▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██▓▓▓▓▓▓█████▓╖,   		||___	||
     ]████▓▓▓▓▓▓▓▓██████▓▓▓██▓▓▓▓▓▓▓▓▓██▓▓▓▓███▓▓▓▓▓▓▓▓▓████╬   		|/__/|	||
     ]████▓▓▓▓▓╢╢▓▓█████▓▓████▓▓▓▓▓▓▓▓██▓╢╢▓███▓▓╢▓▓▓▓▓▓▓███╬   			||	||
     '▀▓████▓▓▓▓▓▓▓▓████▓▓████▓▓▓▓▓▓▓▓██▓▓╣▓███▓▓╢╢╢▓▓▓▓████╬   			|/__\|
       `╜▓████▓▓▓▓▓▓████▓▓████▓▓▓▓▓▓▓▓██▓▓▓▓███▓▓╢╢▓▓▓████▓╜`   
       ╓▓██████▓▓▓▓▓▓███▓▓█████▓▓▓▓▓▓████▓▓▓████▓▓▓▓▓▓█████▓▒   
     ]▓██████████████████████████████████████████████████████▓@ 
	 
  _|      _|            _|_|_|_|_|            _|  _|_|_|      _|_|_|  
  _|_|  _|_|    _|_|_|        _|      _|_|_|      _|    _|  _|        
  _|  _|  _|  _|    _|      _|      _|    _|  _|  _|_|_|    _|        
  _|      _|  _|    _|    _|        _|    _|  _|  _|        _|        
  _|      _|    _|_|_|  _|_|_|_|_|    _|_|_|  _|  _|          _|_|_|
  
	Plans for the next update:
		➜ Upgrade to drop-down menu
		➜ Attaching to the chat window (no promises)
		➜ Other interface changes
	   
	Change Log:
		➜ v2.0 - 2015.06.25 - Added new emoticons, improved design (sorted by packs).
		➜ v1.0 - 2015.05.31 - First stable version released.
]]

local rec = {} local title = {} local titleBG = {} local Background = {}
local rate = client.screenSize.x/1600
local xx = 1075.5
local yy = 423
local move = false
local activate = false
local sayTo = "say_team "
local ShiftEnter = {16,13}

--TextBG
titleBG[1] = drawMgr:CreateRect(45*rate,40*rate,300*rate,20*rate,0x00000AA) -- to title[1]
titleBG[2] = drawMgr:CreateRect(45*rate,60*rate,300*rate,20*rate,0x00000AA) -- to title[2]
titleBG[3] = drawMgr:CreateRect(45*rate,80*rate,300*rate,20*rate,0x00000AA) -- to title[3]
titleBG[4] = drawMgr:CreateRect(45*rate,80*rate,20*rate,20*rate,0x0000070)  -- Separator[1]
titleBG[5] = drawMgr:CreateRect(45*rate,80*rate,20*rate,20*rate,0x0000070)  -- Separator[2]
titleBG[6] = drawMgr:CreateRect(45*rate,100*rate,300*rate,20*rate,0x00000AA) -- to title[4]
titleBG[7] = drawMgr:CreateRect(45*rate,140*rate,300*rate,20*rate,0x00000AA) -- to title[5]
titleBG[8] = drawMgr:CreateRect(45*rate,200*rate,300*rate,20*rate,0x00000AA) -- to title[6]

F11 = drawMgr:CreateFont("F11", "Arial", 14, 500)
--Emoticon Pack title
title[1] = drawMgr:CreateText(5*rate,40*rate,0xB95FFAFF,"Compendium Emoticon Pack 2014",F11) --0xFF0000FF
title[2] = drawMgr:CreateText(5*rate,60*rate,0xABCDEFAA,"Despair Pack      DotaCinema Pack      Other",F11)
title[3] = drawMgr:CreateText(5*rate,80*rate,0xBF9900FF,"The International 2015 Emoticon Pack",F11)
title[4] = drawMgr:CreateText(5*rate,100*rate,0xFF99AAAA,"DAC Compendium 2015 Emoticon Pack",F11)
title[5] = drawMgr:CreateText(5*rate,140*rate,0x81CFABAA,"The Summit 3 Emoticon Pack",F11)
title[6] = drawMgr:CreateText(5*rate,140*rate,0xABCDEFAA,"Gem Emoticons",F11)

--Emoticons
--1 | Compendium Emoticon Pack 2014
rec[1] = drawMgr:CreateRect(5*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/other/XY"))
rec[2] = drawMgr:CreateRect(25*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/blush"))
rec[3] = drawMgr:CreateRect(45*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/cheeky"))
rec[4] = drawMgr:CreateRect(65*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/cool"))
rec[5] = drawMgr:CreateRect(85*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/crazy"))
rec[6] = drawMgr:CreateRect(105*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/cry"))
rec[7] = drawMgr:CreateRect(125*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/disapprove"))
rec[8] = drawMgr:CreateRect(145*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/minirunes/doubledamage"))
rec[9] = drawMgr:CreateRect(165*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/facepalm"))
rec[10] = drawMgr:CreateRect(185*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/happytears"))
rec[11] = drawMgr:CreateRect(205*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/haste"))
rec[12] = drawMgr:CreateRect(225*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/hex"))
rec[13] = drawMgr:CreateRect(245*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/highfive"))
rec[14] = drawMgr:CreateRect(265*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/huh"))
rec[15] = drawMgr:CreateRect(285*rate,60*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/hush"))
--2
rec[16] = drawMgr:CreateRect(5*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/minirunes/illusion"))
rec[17] = drawMgr:CreateRect(25*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/minirunes/invis"))
rec[18] = drawMgr:CreateRect(45*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/laugh"))
rec[19] = drawMgr:CreateRect(65*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/rage"))
rec[20] = drawMgr:CreateRect(85*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/minirunes/regen"))
rec[21] = drawMgr:CreateRect(105*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/sad"))
rec[22] = drawMgr:CreateRect(125*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/sick"))
rec[23] = drawMgr:CreateRect(145*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/sleeping"))
rec[24] = drawMgr:CreateRect(165*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/smile"))
rec[25] = drawMgr:CreateRect(185*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/surprise"))
rec[26] = drawMgr:CreateRect(205*rate,80*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/wink"))
--3 | Despair Emoticon Pack
rec[27] = drawMgr:CreateRect(5*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/aaaah"))
rec[28] = drawMgr:CreateRect(25*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/burn"))
rec[29] = drawMgr:CreateRect(45*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/hide"))
rec[30] = drawMgr:CreateRect(65*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/iceburn"))
rec[31] = drawMgr:CreateRect(85*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/tears"))
--3 | DotaCinema Emoticon Pack
rec[32] = drawMgr:CreateRect(105*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/fail"))
rec[33] = drawMgr:CreateRect(125*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/goodjob"))
rec[34] = drawMgr:CreateRect(145*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/headshot"))
rec[35] = drawMgr:CreateRect(165*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/heart"))
rec[36] = drawMgr:CreateRect(185*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/horse"))
--3 | Other
rec[37] = drawMgr:CreateRect(205*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/techies"))
rec[38] = drawMgr:CreateRect(225*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/grave"))
rec[39] = drawMgr:CreateRect(245*rate,120*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/puppy"))
--4 | The International 2015 Emoticon Pack
rec[40] = drawMgr:CreateRect(5*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/cocky"))
rec[41] = drawMgr:CreateRect(25*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/devil"))
rec[42] = drawMgr:CreateRect(45*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/happy"))
rec[43] = drawMgr:CreateRect(65*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/thinking"))
rec[44] = drawMgr:CreateRect(85*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/tp"))
rec[45] = drawMgr:CreateRect(105*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/salty"))
rec[46] = drawMgr:CreateRect(125*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/angel"))
rec[47] = drawMgr:CreateRect(145*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/blink"))
rec[48] = drawMgr:CreateRect(165*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/bts3_bristle"))
rec[49] = drawMgr:CreateRect(185*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/stunned"))
rec[50] = drawMgr:CreateRect(205*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/disappear"))
rec[51] = drawMgr:CreateRect(225*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/fire"))
rec[52] = drawMgr:CreateRect(245*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/minirunes/bounty"))
rec[53] = drawMgr:CreateRect(265*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/troll"))
rec[54] = drawMgr:CreateRect(285*rate,160*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/gross"))
--5
rec[55] = drawMgr:CreateRect(5*rate,180*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/ggdire"))
rec[56] = drawMgr:CreateRect(25*rate,180*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/ggradiant"))
rec[57] = drawMgr:CreateRect(45*rate,180*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/yolo"))
rec[58] = drawMgr:CreateRect(65*rate,180*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/throwgame"))
rec[59] = drawMgr:CreateRect(85*rate,180*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/aegis2015"))
rec[60] = drawMgr:CreateRect(105*rate,180*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/eyeroll"))
--6 | DAC Compendium 2015 Emoticon Pack
rec[61] = drawMgr:CreateRect(5*rate,220*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/dac15_tired"))
rec[62] = drawMgr:CreateRect(25*rate,220*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/dac15_blush"))
rec[63] = drawMgr:CreateRect(45*rate,220*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/dac15_face"))
rec[64] = drawMgr:CreateRect(65*rate,220*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/dac15_cool"))
rec[65] = drawMgr:CreateRect(85*rate,220*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/dac15_duel"))
rec[66] = drawMgr:CreateRect(105*rate,220*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/dac15_transform"))
rec[67] = drawMgr:CreateRect(125*rate,220*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/dac15_stab"))
rec[68] = drawMgr:CreateRect(145*rate,220*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/dac15_frog"))
rec[69] = drawMgr:CreateRect(165*rate,220*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/dac15_surprise"))
--7 | The Summit 3 Emoticon Pack
rec[70] = drawMgr:CreateRect(5*rate,260*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/bts3_bristle"))
rec[71] = drawMgr:CreateRect(25*rate,260*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/bts3_godz"))
rec[72] = drawMgr:CreateRect(45*rate,260*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/bts3_lina"))
rec[73] = drawMgr:CreateRect(65*rate,260*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/bts3_merlini"))
rec[74] = drawMgr:CreateRect(85*rate,260*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/bts3_rosh"))
--8 | Gem Emoticons
rec[75] = drawMgr:CreateRect(5*rate,300*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/ti4copper"))
rec[76] = drawMgr:CreateRect(25*rate,300*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/ti4bronze"))
rec[77] = drawMgr:CreateRect(45*rate,300*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/ti4silver"))
rec[78] = drawMgr:CreateRect(65*rate,300*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/ti4gold"))
rec[79] = drawMgr:CreateRect(85*rate,300*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/ti4platinum"))
rec[80] = drawMgr:CreateRect(105*rate,300*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/emoticons/ti4diamond"))

rec[81] = drawMgr:CreateRect(5*rate,40*rate,20*rate,20*rate,0x000000FF,drawMgr:GetTextureId("NyanUI/other/Passive_Deny"))

--Background
Background[1] = drawMgr:CreateRect(5*rate,100*rate,300*rate,40*rate,0x0000070) -- under title[1]
Background[2] = drawMgr:CreateRect(5*rate,100*rate,300*rate,20*rate,0x0000070) -- under title[2]
Background[3] = drawMgr:CreateRect(5*rate,100*rate,300*rate,40*rate,0x0000070) -- under title[3]
Background[4] = drawMgr:CreateRect(5*rate,100*rate,300*rate,20*rate,0x0000070) -- under title[4]
Background[5] = drawMgr:CreateRect(5*rate,100*rate,300*rate,20*rate,0x0000070) -- under title[5]
Background[6] = drawMgr:CreateRect(5*rate,100*rate,300*rate,20*rate,0x0000070) -- under title[6]

for i = 1, #titleBG do
                         titleBG[i].visible = false
end

for i = 1, #title do
                         title[i].visible = false
end

for i = 1, #rec do
                         rec[i].visible = false
end

for i = 1, #Background do
                         Background[i].visible = false
end

function Tick(tick)                         
                         if move then
                          xx = client.mouseScreenPosition.x - 5*rate - 25 yy = client.mouseScreenPosition.y - 60*rate - 12
                          Clear()                          
                         end
             	         if IsKeysDown(ShiftEnter) then
						  sayTo = "say "
						  rec[81].textureId = drawMgr:GetTextureId("NyanUI/other/Active_Deny")
						 elseif IsKeyDown(13) and not IsKeyDown(16) and not rec[81].visible == true then
						  sayTo = "say_team "
						  rec[81].textureId = drawMgr:GetTextureId("NyanUI/other/Passive_Deny")
						 end
end

function Key(msg,code)                         

                         if not client.chat then
						 for i = 1,#rec do                         
                           rec[i].visible = false
                          end
						 for i = 1,#title do                         
                          title[i].visible = false
                         end
						 for i = 1,#Background do                         
                          Background[i].visible = false
                         end
						 for i = 1,#titleBG do                         
                          titleBG[i].visible = false
                         end
						  activate = not activate
						 return
						 end
						 for i = 1,#rec do                         
                           rec[i].visible = true
                          end
						 for i = 1,#title do                         
                          title[i].visible = true
                         end
						 for i = 1,#Background do                         
                          Background[i].visible = true
                         end
						 for i = 1,#titleBG do                         
                          titleBG[i].visible = true
                         end
						  activate = true
                         if msg == LBUTTON_DOWN then -- Left mouse
                          if activate then
                           if IsMouseOn(rec[1]) then                         
                            move = not move    SaveGUIConfig()
							-- Compendium Emoticon Pack 2014
                           elseif IsMouseOn(rec[2]) then
							client:ExecuteCmd(sayTo.."") --blush
                           elseif IsMouseOn(rec[3]) then
                            client:ExecuteCmd(sayTo.."") --cheeky
                           elseif IsMouseOn(rec[4]) then
                            client:ExecuteCmd(sayTo.."") --cool
                           elseif IsMouseOn(rec[5]) then
                            client:ExecuteCmd(sayTo.."") --crazy
                           elseif IsMouseOn(rec[6]) then
                            client:ExecuteCmd(sayTo.."") --cry
                           elseif IsMouseOn(rec[7]) then
                            client:ExecuteCmd(sayTo.."") --disapprove
                           elseif IsMouseOn(rec[8]) then
                            client:ExecuteCmd(sayTo.."") --doubledamage
                           elseif IsMouseOn(rec[9]) then
                            client:ExecuteCmd(sayTo.."") --facepalm
                           elseif IsMouseOn(rec[10]) then
                            client:ExecuteCmd(sayTo.."") --happytears
                           elseif IsMouseOn(rec[11]) then
                            client:ExecuteCmd(sayTo.."") --haste
                           elseif IsMouseOn(rec[12]) then
                            client:ExecuteCmd(sayTo.."") --hex
                           elseif IsMouseOn(rec[13]) then
                            client:ExecuteCmd(sayTo.."") --highfive
                           elseif IsMouseOn(rec[14]) then
                            client:ExecuteCmd(sayTo.."") --huh
                           elseif IsMouseOn(rec[15]) then
                            client:ExecuteCmd(sayTo.."") --hush
                           elseif IsMouseOn(rec[16]) then                         
                            client:ExecuteCmd(sayTo.."") --illusion
                           elseif IsMouseOn(rec[17]) then
                            client:ExecuteCmd(sayTo.."") --invisibility
                           elseif IsMouseOn(rec[18]) then
                            client:ExecuteCmd(sayTo.."") --laugh
                           elseif IsMouseOn(rec[19]) then
                            client:ExecuteCmd(sayTo.."") --rage
                           elseif IsMouseOn(rec[20]) then
                            client:ExecuteCmd(sayTo.."") --regeneration
                           elseif IsMouseOn(rec[21]) then
                            client:ExecuteCmd(sayTo.."") --sad
                           elseif IsMouseOn(rec[22]) then
                            client:ExecuteCmd(sayTo.."") --sick
                           elseif IsMouseOn(rec[23]) then
                            client:ExecuteCmd(sayTo.."") --sleeping
                           elseif IsMouseOn(rec[24]) then
                            client:ExecuteCmd(sayTo.."") --smile
                           elseif IsMouseOn(rec[25]) then
                            client:ExecuteCmd(sayTo.."") --surprise
                           elseif IsMouseOn(rec[26]) then
                            client:ExecuteCmd(sayTo.."") --wink
							--Despair Emoticon Pack
                           elseif IsMouseOn(rec[27]) then
                            client:ExecuteCmd(sayTo.."") --aaaah
                           elseif IsMouseOn(rec[28]) then
                            client:ExecuteCmd(sayTo.."") --burn
                           elseif IsMouseOn(rec[29]) then
                            client:ExecuteCmd(sayTo.."") --hide
                           elseif IsMouseOn(rec[30]) then
                            client:ExecuteCmd(sayTo.."") --iceburn
                           elseif IsMouseOn(rec[31]) then
                            client:ExecuteCmd(sayTo.."") --tears
							--DotaCinema Emoticon Pack
                           elseif IsMouseOn(rec[32]) then
                            client:ExecuteCmd(sayTo.."") --fail
                           elseif IsMouseOn(rec[33]) then
                            client:ExecuteCmd(sayTo.."") --goodjob
                           elseif IsMouseOn(rec[34]) then
                            client:ExecuteCmd(sayTo.."") --headshot
                           elseif IsMouseOn(rec[35]) then
                            client:ExecuteCmd(sayTo.."") --heart
                           elseif IsMouseOn(rec[36]) then
                            client:ExecuteCmd(sayTo.."") --horse
							--Other
                           elseif IsMouseOn(rec[37]) then
                            client:ExecuteCmd(sayTo.."") --techies
                           elseif IsMouseOn(rec[38]) then
                            client:ExecuteCmd(sayTo.."") --grave
                           elseif IsMouseOn(rec[39]) then
                            client:ExecuteCmd(sayTo.."") --puppy
							--The International 2015 Emoticon Pack I
                           elseif IsMouseOn(rec[40]) then
                            client:ExecuteCmd(sayTo.."") --cocky
                           elseif IsMouseOn(rec[41]) then
                            client:ExecuteCmd(sayTo.."") --devil
                           elseif IsMouseOn(rec[42]) then
                            client:ExecuteCmd(sayTo.."") --happy
                           elseif IsMouseOn(rec[43]) then
                            client:ExecuteCmd(sayTo.."") --thinking
                           elseif IsMouseOn(rec[44]) then
                            client:ExecuteCmd(sayTo.."") --tp
                           elseif IsMouseOn(rec[45]) then
                            client:ExecuteCmd(sayTo.."") --salty
                           elseif IsMouseOn(rec[46]) then
                            client:ExecuteCmd(sayTo.."") --angel
							--The International 2015 Emoticon Pack II
						   elseif IsMouseOn(rec[47]) then
                            client:ExecuteCmd(sayTo.."") --blink
                           elseif IsMouseOn(rec[48]) then
                            client:ExecuteCmd(sayTo.."") --snot
                           elseif IsMouseOn(rec[49]) then
                            client:ExecuteCmd(sayTo.."") --stunned
                           elseif IsMouseOn(rec[50]) then
                            client:ExecuteCmd(sayTo.."") --disappear
                           elseif IsMouseOn(rec[51]) then
                            client:ExecuteCmd(sayTo.."") --fire
                           elseif IsMouseOn(rec[52]) then
                            client:ExecuteCmd(sayTo.."") --bountyrune
                           elseif IsMouseOn(rec[53]) then
                            client:ExecuteCmd(sayTo.."") --troll
							--The International 2015 Emoticon Pack III
						   elseif IsMouseOn(rec[54]) then						   
                            client:ExecuteCmd(sayTo.."") --gross
                           elseif IsMouseOn(rec[55]) then
                            client:ExecuteCmd(sayTo.."") --ggdire
                           elseif IsMouseOn(rec[56]) then
                            client:ExecuteCmd(sayTo.."") --ggradiant
                           elseif IsMouseOn(rec[57]) then
                            client:ExecuteCmd(sayTo.."") --yolo
                           elseif IsMouseOn(rec[58]) then
                            client:ExecuteCmd(sayTo.."") --throwgame
                           elseif IsMouseOn(rec[59]) then
                            client:ExecuteCmd(sayTo.."") --aegis2015
                           elseif IsMouseOn(rec[60]) then
                            client:ExecuteCmd(sayTo.."") --eyeroll
							--DAC Compendium 2015 Emoticon Pack
						   elseif IsMouseOn(rec[61]) then
                            client:ExecuteCmd(sayTo.."") --dac15_tired
						   elseif IsMouseOn(rec[62]) then
                            client:ExecuteCmd(sayTo.."") --dac15_blush
                           elseif IsMouseOn(rec[63]) then
                            client:ExecuteCmd(sayTo.."") --dac15_face
                           elseif IsMouseOn(rec[64]) then
                            client:ExecuteCmd(sayTo.."") --dac15_cool
                           elseif IsMouseOn(rec[65]) then
                            client:ExecuteCmd(sayTo.."") --dac15_duel
						   elseif IsMouseOn(rec[66]) then
                            client:ExecuteCmd(sayTo.."") --dac15_transform
						   elseif IsMouseOn(rec[67]) then
                            client:ExecuteCmd(sayTo.."") --dac15_stab
						   elseif IsMouseOn(rec[68]) then
                            client:ExecuteCmd(sayTo.."") --dac15_frog
						   elseif IsMouseOn(rec[69]) then
                            client:ExecuteCmd(sayTo.."") --dac15_surprise
							--The Summit 3 Emoticon Pack
                           elseif IsMouseOn(rec[70]) then
                            client:ExecuteCmd(sayTo.."") --bristle
						   elseif IsMouseOn(rec[71]) then
                            client:ExecuteCmd(sayTo.."") --godz
                           elseif IsMouseOn(rec[72]) then
                            client:ExecuteCmd(sayTo.."") --lina
                           elseif IsMouseOn(rec[73]) then
                            client:ExecuteCmd(sayTo.."") --merlini
                           elseif IsMouseOn(rec[74]) then
                            client:ExecuteCmd(sayTo.."") --rosh
						   --Gem Emoticons
						   elseif IsMouseOn(rec[75]) then
                            client:ExecuteCmd(sayTo.."") --ti4copper
						   elseif IsMouseOn(rec[76]) then
                            client:ExecuteCmd(sayTo.."") --ti4bronze
                           elseif IsMouseOn(rec[77]) then
                            client:ExecuteCmd(sayTo.."") --ti4silver
                           elseif IsMouseOn(rec[78]) then
                            client:ExecuteCmd(sayTo.."") --ti4gold
                           elseif IsMouseOn(rec[79]) then
                            client:ExecuteCmd(sayTo.."") --ti4platinum
                           elseif IsMouseOn(rec[80]) then
                            client:ExecuteCmd(sayTo.."") --ti4diamond
						   
                           elseif IsMouseOn(rec[81]) then
                           end
                          end
						  if IsMouseOn(rec[81]) then
                           if sayTo == "say_team " then
						   sayTo = "say "
						   rec[81].textureId = drawMgr:GetTextureId("NyanUI/other/Active_Deny")
						   elseif sayTo == "say " then
						   sayTo = "say_team "
						   rec[81].textureId = drawMgr:GetTextureId("NyanUI/other/Passive_Deny")
						   end
                          end
						  end
end

function IsMouseOn(obj)
                         local mx = client.mouseScreenPosition.x
                         local my = client.mouseScreenPosition.y
                         return mx > obj.x and mx <= obj.x + obj.w and my > obj.y and my <= obj.y + obj.h
end

-- From Utils lib
function IsKeysDown(key_table,orCheck)
	smartAssert(GetType(key_table) == "table", debug.getinfo(1, "n").name..": Invalid Key Table")
	if not orCheck then orCheck = false end
    for i,v in ipairs(key_table) do
    	local bool = nil
    	if v >= 0 then
    		bool = IsKeyDown(v)
    	else
			bool = not IsKeyDown(-v)
    	end
        if (not orCheck and not bool) or (orCheck and bool) then
                return bool
    	end
    end
    return not orCheck
end

function smartAssert(condition, ...)
	if not condition then
		if next({...}) then
			local s,r = pcall(function (...) return(string.format(...)) end, ...)
			if s then
				print(debug.traceback())
            			error("assertion failed!: " .. r, 2)
         		end
      		end
		print(debug.traceback())
		error("assertion failed!", 2)
	end
end
-- From Utils lib END

function SaveGUIConfig()
                         local file = io.open(SCRIPT_PATH.."/config/EmoticonsConfig.txt", "w+")
                         if file then
                          file:write(xx.."\n"..yy)
                          file:close()
                         end
end
                            
function LoadGUIConfig()
                         local file = io.open(SCRIPT_PATH.."/config/EmoticonsConfig.txt", "r")
                         if file then
                          xx, yy = file:read("*number", "*number")
                          file:close()                           
                         end
                         if not xx then
                          xx = 1075.5
                          yy = 423
                         end
end

function Clear()
						 --Background
						 Background[1].x = 25*rate + xx
                         Background[1].y = 60*rate + yy
                         Background[2].x = 25*rate + xx
                         Background[2].y = 120*rate + yy
						 Background[3].x = 25*rate + xx
                         Background[3].y = 160*rate + yy
						 Background[4].x = 25*rate + xx
                         Background[4].y = 220*rate + yy
						 Background[5].x = 25*rate + xx
                         Background[5].y = 260*rate + yy
						 Background[6].x = 25*rate + xx
                         Background[6].y = 300*rate + yy
						 --Title
						 title[1].x = 300*rate/4 + xx
						 title[1].y = 40*rate + yy
						 title[2].x = 40*rate + xx
						 title[2].y = 100*rate + yy
						 title[3].x = (300*rate/5)-3 + xx
						 title[3].y = 140*rate + yy
						 title[4].x = (300*rate/5) + xx
						 title[4].y = 200*rate + yy
						 title[5].x = (300*rate/4)+5 + xx
						 title[5].y = 240*rate + yy
						 title[6].x = (300*rate/2)-20 + xx
						 title[6].y = 280*rate + yy
						 --TextBG
						 titleBG[1].x = 25*rate + xx 	-- To title[1]
						 titleBG[1].y = 40*rate + yy
						 titleBG[2].x = 25*rate + xx	-- To title[2]
						 titleBG[2].y = 100*rate + yy
						 titleBG[3].x = 25*rate + xx	-- To title[3]
						 titleBG[3].y = 140*rate + yy
						 titleBG[6].x = 25*rate + xx	-- To title[4]
						 titleBG[6].y = 200*rate + yy
						 titleBG[7].x = 25*rate + xx	-- To title[5]
						 titleBG[7].y = 240*rate + yy
						 titleBG[4].x = 125*rate + xx	-- Separator[1]
						 titleBG[4].y = 120*rate + yy
						 titleBG[5].x = 245*rate + xx	-- Separator[2]
						 titleBG[5].y = 120*rate + yy
						 titleBG[8].x = 25*rate + xx	-- To title[6]
						 titleBG[8].y = 280*rate + yy
						 --next
                         for i = 1,#rec do
                          if i < 16 then
                           rec[i].x = 25*rate+20*(i-1)*rate + xx
                           rec[i].y = 60*rate + yy                            
                          elseif i < 27 then
                           rec[i].x = 25*rate+20*(i-16)*rate + xx
                           rec[i].y = 80*rate + yy                         
						  elseif i < 32 then
                           rec[i].x = 25*rate+20*(i-27)*rate + xx
                           rec[i].y = 120*rate + yy  
                          elseif i < 37 then
                           rec[i].x = 145*rate+20*(i-32)*rate + xx
                           rec[i].y = 120*rate + yy 
						  elseif i < 40 then
                           rec[i].x = 265*rate+20*(i-37)*rate + xx
                           rec[i].y = 120*rate + yy 
						  elseif i < 54 then
                           rec[i].x = 25*rate+20*(i-40)*rate + xx
                           rec[i].y = 160*rate + yy 
						  elseif i < 61 then
                           rec[i].x = 25*rate+20*(i-54)*rate + xx
                           rec[i].y = 180*rate + yy 
						  elseif i < 70 then
                           rec[i].x = 25*rate+20*(i-61)*rate + xx
                           rec[i].y = 220*rate + yy 
						  elseif i < 75 then
                           rec[i].x = 25*rate+20*(i-70)*rate + xx
                           rec[i].y = 260*rate + yy 
						  elseif i < 81 then
                           rec[i].x = 25*rate+20*(i-75)*rate + xx
                           rec[i].y = 300*rate + yy 
                          else
                           rec[i].x = 25*rate+20*(i-81)*rate + xx
                           rec[i].y = 40*rate + yy
                          end
                         end
end

function Load()
                         if client.connected and not client.loading and not client.console then
                          LoadGUIConfig()
                          --Background
						  Background[1].x = 25*rate + xx
                          Background[1].y = 60*rate + yy
                          Background[2].x = 25*rate + xx
                          Background[2].y = 120*rate + yy
						  Background[3].x = 25*rate + xx
                          Background[3].y = 160*rate + yy
						  Background[4].x = 25*rate + xx
                          Background[4].y = 220*rate + yy
						  Background[5].x = 25*rate + xx
                          Background[5].y = 260*rate + yy
						  Background[6].x = 25*rate + xx
                          Background[6].y = 300*rate + yy
						  --Title
						  title[1].x = 300*rate/4 + xx
						  title[1].y = 40*rate + yy
						  title[2].x = 40*rate + xx
						  title[2].y = 100*rate + yy
						  title[3].x = (300*rate/5)-3 + xx
						  title[3].y = 140*rate + yy
						  title[4].x = (300*rate/5) + xx
						  title[4].y = 200*rate + yy
						  title[5].x = (300*rate/4)+5 + xx
						  title[5].y = 240*rate + yy
						  title[6].x = (300*rate/2)-20 + xx
						  title[6].y = 280*rate + yy
						  --TextBG
						  titleBG[1].x = 25*rate + xx 	-- To title[1]
						  titleBG[1].y = 40*rate + yy
						  titleBG[2].x = 25*rate + xx	-- To title[2]
						  titleBG[2].y = 100*rate + yy
						  titleBG[3].x = 25*rate + xx	-- To title[3]
						  titleBG[3].y = 140*rate + yy
						  titleBG[6].x = 25*rate + xx	-- To title[4]
						  titleBG[6].y = 200*rate + yy
						  titleBG[7].x = 25*rate + xx	-- To title[5]
						  titleBG[7].y = 240*rate + yy
						  titleBG[4].x = 125*rate + xx	-- Separator[1]
						  titleBG[4].y = 120*rate + yy
						  titleBG[5].x = 245*rate + xx	-- Separator[2]
						  titleBG[5].y = 120*rate + yy
						  titleBG[8].x = 25*rate + xx	-- To title[6]
						  titleBG[8].y = 280*rate + yy
						  --visibility
						  title[1].visible = false
						  title[2].visible = false
						  title[3].visible = false
						  title[4].visible = false
						  title[5].visible = false
						  title[6].visible = false
						  
						  titleBG[1].visible = false
						  titleBG[2].visible = false
						  titleBG[3].visible = false
						  titleBG[4].visible = false
						  titleBG[5].visible = false
						  titleBG[6].visible = false
						  titleBG[7].visible = false
						  titleBG[8].visible = false
						  
						  Background[1].visible = false
						  Background[2].visible = false
						  Background[3].visible = false
						  Background[4].visible = false
						  Background[5].visible = false
						  Background[6].visible = false
						  --next
                          for i = 1,#rec do
                          if i < 16 then
                           rec[i].x = 25*rate+20*(i-1)*rate + xx
                           rec[i].y = 60*rate + yy                            
                          elseif i < 27 then
                           rec[i].x = 25*rate+20*(i-16)*rate + xx
                           rec[i].y = 80*rate + yy                         
						  elseif i < 32 then
                           rec[i].x = 25*rate+20*(i-27)*rate + xx
                           rec[i].y = 120*rate + yy  
                          elseif i < 37 then
                           rec[i].x = 145*rate+20*(i-32)*rate + xx
                           rec[i].y = 120*rate + yy 
						  elseif i < 40 then
                           rec[i].x = 265*rate+20*(i-37)*rate + xx
                           rec[i].y = 120*rate + yy 
						  elseif i < 54 then
                           rec[i].x = 25*rate+20*(i-40)*rate + xx
                           rec[i].y = 160*rate + yy 
						  elseif i < 61 then
                           rec[i].x = 25*rate+20*(i-54)*rate + xx
                           rec[i].y = 180*rate + yy 
						  elseif i < 70 then
                           rec[i].x = 25*rate+20*(i-61)*rate + xx
                           rec[i].y = 220*rate + yy 
						  elseif i < 75 then
                           rec[i].x = 25*rate+20*(i-70)*rate + xx
                           rec[i].y = 260*rate + yy 
						  elseif i < 81 then
                           rec[i].x = 25*rate+20*(i-75)*rate + xx
                           rec[i].y = 300*rate + yy 
                          else
                           rec[i].x = 25*rate+20*(i-81)*rate + xx
                           rec[i].y = 40*rate + yy
                          end
                           rec[i].visible = false
                          end                           
                          play = true
                          script:RegisterEvent(EVENT_KEY,Key)
                          script:RegisterEvent(EVENT_TICK,Tick)
                          script:UnregisterEvent(Load)
                         end
end

function GameClose()
                         if play then
                          for i = 1,#rec do                         
                           rec[i].visible = false
                          end  
						  for i = 1,#title do                         
                           title[i].visible = false
                          end 
						  for i = 1,#titleBG do                         
                           titleBG[i].visible = false
                          end
						  for i = 1,#Background do                         
                           Background[i].visible = false
                          end
                          move = false
                          activate = false
						  sayTo = "say_team "
                          script:UnregisterEvent(Key)
                          script:UnregisterEvent(Tick)
                          script:RegisterEvent(EVENT_TICK,Load)
                          play = false
                         end
end

script:RegisterEvent(EVENT_TICK,Load)
script:RegisterEvent(EVENT_CLOSE,GameClose)